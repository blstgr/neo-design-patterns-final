var l=Object.defineProperty;var u=(s,e,t)=>e in s?l(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var d=(s,e,t)=>u(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=t(r);fetch(r.href,c)}})();class m{constructor(e){this.raw=e}import(){this.validate();const e=this.map();this.render(e)}}class p{constructor(e){this.d=e}render(){const e=document.createElement("header");e.className="section header";const{fullName:t,title:n,contacts:r}=this.d,{email:c,phone:o,location:a}=r,i=[c,o,a].filter(Boolean).join(" | ");return e.innerHTML=`
      <h1>${t}</h1>
      <p>${n}</p>
      <p>${i}</p>
    `,e}}class h{constructor(e){this.d=e}render(){const e=document.createElement("section");e.className="section summary";const t=document.createElement("h2");t.textContent="Summary";const n=document.createElement("p");return n.textContent=this.d.text,e.appendChild(t),e.appendChild(n),e}}class f{constructor(e){this.d=e}render(){const e=document.createElement("div");return e.className="project-item",e.textContent=`• ${this.d.name} – ${this.d.description}`,e}}class E{constructor(e){d(this,"wrapped");this.wrapped={render:()=>e}}render(){const e=this.wrapped.render();return e.classList.add("highlight"),e}}class w{constructor(e){this.d=e}render(){const e=document.createElement("section");return e.className="section experience",e.innerHTML="<h2>Experience</h2>",this.d.forEach(t=>{const n=document.createElement("div");n.className="experience-item",n.innerHTML+=`
        <h3>${t.position}</h3>
        <p>${t.company}</p>
      `,t.projects.forEach(r=>{const c=new f(r).render(),o=r.isRecent?new E(c).render():c;n.appendChild(o)}),e.appendChild(n)}),e}}class y{constructor(e){this.d=e}render(){const e=document.createElement("section");return e.className="section education",e.innerHTML="<h2>Education</h2>",this.d.forEach(t=>{const n=document.createElement("div");n.className="education-item";const r=document.createElement("h3");r.textContent=t.institution;const c=document.createElement("p");c.textContent=t.degree;const o=document.createElement("p");o.textContent=`Graduated: ${t.graduation}`,n.appendChild(r),n.appendChild(c),n.appendChild(o),e.appendChild(n)}),e}}class C{constructor(e){this.d=e}render(){const e=document.createElement("section");return e.className="section skills",e.innerHTML="<h2>Skills</h2>",Object.entries(this.d).forEach(([t,n])=>{const r=document.createElement("div");r.className="skill-group";const c=document.createElement("h3");c.textContent=t[0].toUpperCase()+t.slice(1);const o=document.createElement("ul");n.forEach(a=>{const i=document.createElement("li");i.textContent=a,o.appendChild(i)}),r.appendChild(c),r.appendChild(o),e.appendChild(r)}),e}}class g{createBlock(e,t){switch(e){case"header":return new p(t.header);case"summary":return new h(t.summary);case"experience":{const n=t.experience;return new w(n)}case"education":{const n=t.education;return new y(n)}case"skills":{const n=t.skills;return new C(n)}default:throw new Error(`Unknown block type: ${e}`)}}}class x extends m{validate(){const e=this.raw;if(!e||typeof e!="object"||!("header"in e)||!("summary"in e)||!("experience"in e)||!("education"in e)||!("skills"in e))throw new Error("Неприпустимий формат JSON: відсутні обов’язкові поля")}map(){return this.raw}render(e){const t=document.getElementById("resume-content"),n=new g;["header","summary","experience","education","skills"].forEach(r=>{const c=n.createBlock(r,e);t.appendChild(c.render())})}}class k{async init(e){const t=await this.fetchData(e),n=new x(t);n.validate();const r=n.map();n.render(r)}async fetchData(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to load JSON: ${t.statusText}`);return t.json()}}new k().init("/resume.json");
